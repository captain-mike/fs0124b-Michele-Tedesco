<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>
<body>

    <div class="row" id="attaccapanni"></div>
    
    <template id="card-template">
        <div class="col-4">
            <div class="card" >
                <img src="" class="card-img-top" alt="...">
                <div class="card-body">
                  <h5 class="card-title">Card title</h5>
                  <div class="prezzo"></div>
                  <a href="#" class="btn btn-primary">Go somewhere</a>
                </div>
              </div>
        </div>
    </template>

    <script>

        fetch('https://striveschool-api.herokuapp.com/books')
        .then(res => res.json())
        .then(async libri => {

            let colonna = generaClone();

            console.dir(colonna);
            //scrivi il titolo del primo libro nell'html del clone che vedi
            let titolo = colonna.querySelector('.card-title')
            titolo.textContent = libri[0].title
            
            let prezzo = colonna.querySelector('.prezzo')
            prezzo.textContent = libri[0].price

            let image = colonna.querySelector('.card-img-top')
            image.src = libri[0].img

            console.log(titolo);
            
            document.querySelector('#attaccapanni').appendChild(colonna)
        })
        


        function inserisciTesto(selettore, contenuto){
            let titolo = colonna.querySelector(selettore)
            titolo.innerText = contenuto
        }


        function generaClone(){
            //crea un clone del template e inseriscilo nella row
            let template = document.querySelector('#card-template')
            let clone = template.content.cloneNode(true)

            return clone;
        }

    </script>

</body>
</html>